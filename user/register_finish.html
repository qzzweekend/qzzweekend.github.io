<!DOCTYPE html>
<html>
<head lang="en">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0 minimal-ui">
    <meta name="screen-orientation" content="portrait">
    <title>填写收礼地址</title>
    <link href="../styles/reset.css" rel="stylesheet">
    <link href="../css/plugins/city_select.css" rel="stylesheet">
    <link href="../css/user.css" rel="stylesheet">
</head>
<body>
<div class="all_elements">
    <div class="header">
        <a href="javascript:window.history.go(-1);" class="header_back">
            <i class="head_back icon_week"></i>
        </a>

        <h3>填写收礼地址（2/2）</h3>
    </div>
    <div class="content">
        <section class="reg_finish">
            <ul class="reg_finish_ul">
                <li>
                    <span class="contact_title">联系电话</span>

                    <div class="contact_wrap"><input class="contact_num" type="tel" maxlength="11"
                                                     placeholder="请输入您的联系电话"
                                                     onkeyup="vlm.Utils.validate.replaceNum(this)"
                            /></div>
                </li>
                <li>
                    <span class="contact_title">选择城市</span>

                    <div class="contact_wrap" id="city_cont_wrap">
                        <span class="contact_num city_choose_show" id="city_content">请选择您所在的城市</span>
                        <i class="week_more icon_week"></i>
                    </div>
                </li>
                <li>
                    <span class="contact_title">详细地址</span>

                    <div class="contact_wrap">
                        <input class="contact_num" id="address_det" type="tel" placeholder="请输入详细街道门牌号等"/></div>
                </li>
            </ul>

        </section>
        <a href="javascript:;" class="button_common" id="register_finish">完成注册</a>
    </div>
</div>

<script src="../js/lib/jquery-1.10.2.min.js"></script>
<script src="../js/lib/vlm.js"></script>
<script src="../js/lib/ejs.js"></script>
<script src="../js/plugins/cityData.js"></script>
<script src="../js/plugins/city_select.js"></script>
<script>

    $(function () {

        //城市列表选择
        new CityList({id: '#city_cont_wrap', 'sId': '#city_content'});

        //验证输入
        $('#register_finish').click(function () {
            if (!vlm.Utils.validate.mobileNo($('.contact_num').val())) {
                vlm.Utils.toast('请输入正确的手机号');
                return;
            }
            if (!$('#city_content').hasClass('selected')) {
                vlm.Utils.toast('请选择您所在的城市');
                return;
            }

            if ($('#address_det').val() == '') {
                vlm.Utils.toast('请输入详细街道门牌号等');
                return;
            }

            window.location.href = 'user_index.html';
        });
    })

</script>
</body>
</html>