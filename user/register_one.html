<!DOCTYPE html>
<html>
<head lang="en">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0 minimal-ui">
    <meta name="screen-orientation" content="portrait">
    <title>注册</title>
    <link href="../styles/reset.css" rel="stylesheet">
    <link href="../css/user.css" rel="stylesheet">
</head>
<body>
<div class="all_elements back_white">
    <div class="header">
        <a href="javascript:window.history.go(-1);" class="header_back">
            <i class="head_back icon_week"></i>
        </a>

        <h3>注册（1/2）</h3>
    </div>
    <div class="content">
        <section class="register">
            <ul class="register_ul">
                <li>
                    <span class="icon_week phone_tips"></span>
                    <input name="phone_number" class="phone_num" onkeyup="vlm.Utils.validate.replaceNum(this)" type="tel" maxlength="11" placeholder="请输入手机号码"/>
                    <span class="get_identify_btn">获取验证码</span>
                </li>
                <li>
                    <span class="icon_week identify_tips"></span>
                    <input name="phone_number" class="identify_code" onkeyup="vlm.Utils.validate.replaceNum(this)" type="tel" maxlength="11" placeholder="请输入验证码"/>
                </li>
                <li>
                    <span class="icon_week invite_tips"></span>
                    <input name="phone_number" class="phone_num" onkeyup="vlm.Utils.validate.replaceNum(this)" type="tel" maxlength="6" placeholder="请输入邀请码"/>
                </li>
            </ul>
            <a href="javascript:;" class="button_common" id="register_btn">下一步</a>
        </section>
    </div>
</div>

<script src="../js/lib/jquery-1.10.2.min.js"></script>
<script src="../js/lib/vlm.js"></script>
<script>

    $(function () {
        $('#register_btn').click(function () {
            if( !vlm.Utils.validate.mobileNo($('.phone_num').val())){
                var timer=null;
                var toast = $('<div id="week_toast">请输入正确的手机号</div>');
                toast.appendTo($(document.body));
                toast.animate({
                    opacity: 1
                }, 200, 'linear', function () {
                    clearTimeout(timer);
                    timer=setTimeout(function () {
                        toast.animate({
                            opacity: 0
                        }, 400, function () {
                            toast.remove();
                        });
                    }, 1500)
                });
                return;
            }

            if( !vlm.Utils.validate.code($('.identify_code').val())){
                var timer=null;
                var toast = $('<div id="week_toast">请输入验证码</div>');
                toast.appendTo($(document.body));
                toast.animate({
                    opacity: 1
                }, 200, 'linear', function () {
                    clearTimeout(timer);
                    timer=setTimeout(function () {
                        toast.animate({
                            opacity: 0
                        }, 400, function () {
                            toast.remove();
                        });
                    }, 1500)
                });
                return;
            }
            window.location.href="register_finish.html";

        });
    })
</script>
</body>
</html>