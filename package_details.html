<!DOCTYPE html>
<html>
<head lang="en">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0 minimal-ui">
    <meta name="screen-orientation" content="portrait">
    <title>包装展示</title>
    <link href="styles/reset.css" rel="stylesheet">
    <link href="css/index.css" rel="stylesheet">
</head>
<body>
<div class="all_elements back_white">
    <div class="header">
        <a href="javascript:window.history.go(-1);" class="header_back">
            <i class="head_back icon_week"></i>
        </a>

        <h3>包装展示</h3>
    </div>
    <div class="content">
        <ul class="pack_all_ul">
            <li>
                <div class="clearfix pack_topic_head">
                    <h3 class="fl">台湾之乡主题包装</h3>
                    <span class="fr">11-12</span>
                </div>
                <img src="images/pack_topic1.jpg" alt=""/>
            </li>
            <li>
                <div class="clearfix pack_topic_head">
                    <h3 class="fl">1，内包装细节</h3>
                </div>
                <img src="images/pack_topic1.jpg" alt=""/>
            </li>
            <li>
                <div class="clearfix pack_topic_head">
                    <h3 class="fl">2，内包装细节</h3>
                </div>
                <img src="images/pack_topic1.jpg" alt=""/>
            </li>
        </ul>
        <div class="pack_topic_heart">
            <img src="images/heart_bg.png" class="pack_topic_heart_bg" alt="">
            <img src="images/heart.png" class="pack_topic_heart_tip" alt=""/>
            <span class="pack_topic_num">152</span>
        </div>
    </div>
</div>


<script src="js/lib/jquery-1.10.2.min.js"></script>
<script>


    $(function () {

        $.extend({
            tipsBox: function (options) {
                options = $.extend({
                    obj: null,  //显示在哪个标签
                    str: "+1",
                    startSize: "12px",
                    endSize: "25px",
                    interval: 600,
                    color: "#a575e3",
                    callback: function () {
                    }
                }, options);

                $("body").append("<span class='praisenum'>" + options.str + "</span>");
                var box = $(".praisenum");
                var left = options.obj.offset().left + options.obj.width() / 2;
                var top = options.obj.offset().top - options.obj.height()/5;
                box.css({
                    "position": "absolute",
                    "left": left + "px",
                    "top": top + "px",
                    "z-index": 99,
                    "font-size": options.startSize,
                    "line-height": options.endSize,
                    "color": options.color
                });
                box.animate({
                    "font-size": options.endSize,
                    "opacity": "0",
                    "top": top - parseInt(options.endSize) + "px"
                }, options.interval, function () {
                    box.remove();
                    options.callback();
                });
            }
        });

        var praise_num = parseInt($('.pack_topic_num').html());
        var bFlag=false;
        $(".pack_topic_heart").click(function () {
            if(bFlag){
                var toast=$('<div id="week_toast">亲，已经赞过啦！</div>');
                toast.appendTo($(document.body));
                toast.animate({
                    opacity:1
                },200,'linear',function(){
                    setTimeout(function () {
                        toast.animate({
                            opacity:0
                        },400,function(){
                            toast.remove();
                        });
                    },1000)
                });
                return;
            }
            bFlag=true;
            $('.pack_topic_heart_tip').attr('src','images/heart_on.png');
            praise_num++;
            $('.pack_topic_num').html(praise_num);
            $.tipsBox({
                obj: $(this),
                str: "赞+1"
            });
        });
    });
</script>
</body>
</html>